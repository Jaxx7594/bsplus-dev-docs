// https://nuxt.com/docs/api/configuration/nuxt-config
export default defineNuxtConfig({
  devtools: { enabled: true },
  extends: ['..'],
  i18n: {
    defaultLocale: 'en',
    locales: [
      {
        code: 'en',
        name: 'English',
        language: 'en-US',
      },
      {
        code: 'fr',
        name: 'Français',
        language: 'fr-FR',
      },
      {
        code: 'km',
        name: 'ភាសាខ្មែរ',
        language: 'km-KH',
      },
      {
        code: 'it',
        name: 'Italiano',
        language: 'it-IT',
      },
      {
        code: 'zhcn',
        name: '简体中文',
        language: 'zh-CN',
      },
    ],
  },
  ogImage: {
    fonts: [
      'Geist:400',
      'Geist:700',
    ],
  },
  nitro: {
    prerender: {
      // Continue building even if some routes fail to prerender
      failOnError: false,
      // Don't crawl links that might not exist yet
      crawlLinks: true,
      // Ignore 404 errors during prerender
      ignore: [
        '/api/_content/query/*',
      ],
    },
  },
  compatibilityDate: '2025-05-13',
});
